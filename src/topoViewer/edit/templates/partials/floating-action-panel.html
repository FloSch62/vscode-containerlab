<!-- Floating Action Button with Radial Menu -->
<div id="floating-action-panel" class="fixed bottom-4 left-4 z-50">
  <!-- Main FAB button -->
  <div id="fab-container" class="relative">
    <!-- Radial menu items (hidden by default) -->
    <div id="radial-menu" class="absolute opacity-0 pointer-events-none transition-all duration-300">
      <!-- Add Node button -->
      <button id="radial-add-node" 
              class="radial-menu-item absolute w-12 h-12 rounded-full bg-[var(--vscode-button-background)] hover:bg-[var(--vscode-button-hoverBackground)] text-[var(--vscode-button-foreground)] shadow-lg transition-all duration-300 flex items-center justify-center"
              title="Add Node">
        <i class="fas fa-server"></i>
      </button>
      
      <!-- Add Group button -->
      <button id="radial-add-group" 
              class="radial-menu-item absolute w-12 h-12 rounded-full bg-[var(--vscode-button-background)] hover:bg-[var(--vscode-button-hoverBackground)] text-[var(--vscode-button-foreground)] shadow-lg transition-all duration-300 flex items-center justify-center"
              title="Add Group">
        <i class="fas fa-object-group"></i>
      </button>
      
      <!-- Add Text button -->
      <button id="radial-add-text" 
              class="radial-menu-item absolute w-12 h-12 rounded-full bg-[var(--vscode-button-background)] hover:bg-[var(--vscode-button-hoverBackground)] text-[var(--vscode-button-foreground)] shadow-lg transition-all duration-300 flex items-center justify-center"
              title="Add Text">
        <i class="fas fa-font"></i>
      </button>
    </div>
    
    <!-- Main + button -->
    <button id="fab-main" 
            class="w-14 h-14 rounded-full bg-[var(--vscode-button-background)] hover:bg-[var(--vscode-button-hoverBackground)] text-[var(--vscode-button-foreground)] shadow-xl transition-all duration-300 flex items-center justify-center relative z-10">
      <i class="fas fa-plus text-xl transition-transform duration-300"></i>
    </button>
  </div>
</div>

<style>
  #floating-action-panel {
    /* Ensure it stays above other elements but below modals */
    z-index: 40;
  }
  
  #fab-main {
    /* Add subtle animation on hover */
    transition: transform 0.2s, box-shadow 0.2s, background-color 0.3s;
  }
  
  #fab-main:hover {
    transform: scale(1.05);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
  }
  
  #fab-main.active {
    transform: rotate(45deg);
  }
  
  /* Radial menu positioning when active */
  #radial-menu.active {
    opacity: 1;
    pointer-events: auto;
  }
  
  /* Position radial menu items in an arc */
  #radial-menu.active #radial-add-node {
    transform: translate(70px, -20px);
  }
  
  #radial-menu.active #radial-add-group {
    transform: translate(60px, -60px);
  }
  
  #radial-menu.active #radial-add-text {
    transform: translate(20px, -85px);
  }
  
  /* Initial hidden state for radial items */
  #radial-menu:not(.active) .radial-menu-item {
    transform: translate(0, 0) scale(0);
  }
  
  #radial-menu.active .radial-menu-item {
    transform-origin: center;
    animation: fadeInScale 0.3s ease-out forwards;
  }
  
  #radial-menu.active #radial-add-node {
    animation-delay: 0.05s;
  }
  
  #radial-menu.active #radial-add-group {
    animation-delay: 0.1s;
  }
  
  #radial-menu.active #radial-add-text {
    animation-delay: 0.15s;
  }
  
  @keyframes fadeInScale {
    from {
      opacity: 0;
      transform: scale(0) translate(0, 0);
    }
    to {
      opacity: 1;
      transform: scale(1) var(--final-position);
    }
  }
  
  /* Set final positions as CSS variables */
  #radial-add-node {
    --final-position: translate(70px, -20px);
  }
  
  #radial-add-group {
    --final-position: translate(60px, -60px);
  }
  
  #radial-add-text {
    --final-position: translate(20px, -85px);
  }
  
  /* VS Code theme integration */
  #floating-action-panel button {
    border: 1px solid var(--vscode-button-border, transparent);
  }
  
  /* Subtle pulse animation for main button */
  @keyframes pulse {
    0% {
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    }
    50% {
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
    }
    100% {
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    }
  }
  
  #fab-main {
    animation: pulse 2s infinite;
  }
  
  #fab-main.active {
    animation: none;
  }
</style>