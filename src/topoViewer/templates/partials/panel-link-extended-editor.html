<!-- Extended Link Editor Panel -->
<div class="panel panel-overlay fixed bottom-10 left-20 w-[420px] max-h-[520px] overflow-y-auto overflow-x-hidden z-[21] draggable-panel"
  id="panel-link-extended-editor" style="display: none;">
  <p class="panel-heading text-base font-bold">
    Extended Link Editor
  </p>

  <div class="p-0 pl-4 pb-2">
    <div class="panel-block p-0">
      <div class="px-0">

        <!-- Link ID Preview -->
        <div class="my-1">
          <div class="p-0.5">
            <div class="flex items-center">
              <div class="w-2/5 pr-1">
                <label class="label text-right text-base font-semibold">Link</label>
              </div>
              <div class="w-3/5 pl-2 pr-2">
                <div id="panel-link-extended-editor-id" class="text-left font-extralight text-base break-words">
                  <!-- Dynamically populated -->
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Link Type -->
        <div class="my-1">
          <div class="p-0.5">
            <div class="flex items-center">
              <div class="w-2/5 pr-1">
                <label class="label text-right text-base font-semibold">Type</label>
              </div>
              <div class="w-3/5 pl-2 pr-2">
                <div id="panel-link-ext-type-dropdown-container"></div>
              </div>
            </div>
          </div>
        </div>

        <!-- Common Fields -->
        <div class="border-t border-[var(--vscode-widget-border)] my-2"></div>
        <div class="my-1">
          <div class="p-0.5">
            <div class="flex items-center">
              <div class="w-2/5 pr-1"><label class="label text-right text-base font-semibold">Source MAC</label></div>
              <div class="w-3/5 pl-2 pr-2"><input type="text" id="panel-link-ext-src-mac" class="input-field w-full text-base font-extralight h-[28px]" placeholder="e.g., 02:42:ac:11:00:01"></div>
            </div>
          </div>
        </div>
        <div class="my-1">
          <div class="p-0.5">
            <div class="flex items-center">
              <div class="w-2/5 pr-1"><label class="label text-right text-base font-semibold">Target MAC</label></div>
              <div class="w-3/5 pl-2 pr-2"><input type="text" id="panel-link-ext-tgt-mac" class="input-field w-full text-base font-extralight h-[28px]" placeholder="e.g., 02:42:ac:11:00:02"></div>
            </div>
          </div>
        </div>
        <div class="my-1">
          <div class="p-0.5">
            <div class="flex items-center">
              <div class="w-2/5 pr-1"><label class="label text-right text-base font-semibold">MTU</label></div>
              <div class="w-3/5 pl-2 pr-2"><input type="number" id="panel-link-ext-mtu" class="input-field w-full text-base font-extralight h-[28px]" placeholder="e.g., 1500"></div>
            </div>
          </div>
        </div>

        <!-- Vars (JSON) -->
        <div class="my-1">
          <div class="p-0.5">
            <div class="flex items-start">
              <div class="w-2/5 pr-1"><label class="label text-right text-base font-semibold">Vars (JSON)</label></div>
              <div class="w-3/5 pl-2 pr-2">
                <textarea id="panel-link-ext-vars" class="input-field w-full text-base font-extralight" rows="3" placeholder='e.g., {"foo": "bar"}'></textarea>
                <div id="panel-link-ext-vars-error" class="text-[var(--vscode-editorError-foreground)] text-xs mt-1" style="display:none;">Invalid JSON</div>
              </div>
            </div>
          </div>
        </div>

        <!-- Labels (JSON) -->
        <div class="my-1">
          <div class="p-0.5">
            <div class="flex items-start">
              <div class="w-2/5 pr-1"><label class="label text-right text-base font-semibold">Labels (JSON)</label></div>
              <div class="w-3/5 pl-2 pr-2">
                <textarea id="panel-link-ext-labels" class="input-field w-full text-base font-extralight" rows="3" placeholder='e.g., {"role": "primary"}'></textarea>
                <div id="panel-link-ext-labels-error" class="text-[var(--vscode-editorError-foreground)] text-xs mt-1" style="display:none;">Invalid JSON</div>
              </div>
            </div>
          </div>
        </div>

        <!-- Per-Type Sections -->
        <div class="border-t border-[var(--vscode-widget-border)] my-2"></div>

        <!-- mgmt-net | host | macvlan: Host Interface -->
        <div class="my-1" data-section="host-iface">
          <div class="p-0.5">
            <div class="flex items-center">
              <div class="w-2/5 pr-1"><label class="label text-right text-base font-semibold">Host Interface</label></div>
              <div class="w-3/5 pl-2 pr-2"><input type="text" id="panel-link-ext-host-interface" class="input-field w-full text-base font-extralight h-[28px]" placeholder="e.g., eth10"></div>
            </div>
          </div>
        </div>

        <!-- macvlan: Mode -->
        <div class="my-1" data-section="macvlan-mode">
          <div class="p-0.5">
            <div class="flex items-center">
              <div class="w-2/5 pr-1"><label class="label text-right text-base font-semibold">macvlan Mode</label></div>
              <div class="w-3/5 pl-2 pr-2">
                <select id="panel-link-ext-mode" class="input-field w-full text-base font-extralight h-[28px]">
                  <option value="">(default)</option>
                  <option value="bridge">bridge</option>
                  <option value="private">private</option>
                  <option value="vepa">vepa</option>
                  <option value="passthru">passthru</option>
                </select>
              </div>
            </div>
          </div>
        </div>

        <!-- vxlan | vxlan-stitch: Remote, VNI, UDP Port -->
        <div class="my-1" data-section="vxlan">
          <div class="p-0.5">
            <div class="flex items-center">
              <div class="w-2/5 pr-1"><label class="label text-right text-base font-semibold">Remote</label></div>
              <div class="w-3/5 pl-2 pr-2"><input type="text" id="panel-link-ext-remote" class="input-field w-full text-base font-extralight h-[28px]" placeholder="e.g., 192.0.2.10"></div>
            </div>
          </div>
        </div>
        <div class="my-1" data-section="vxlan">
          <div class="p-0.5">
            <div class="flex items-center">
              <div class="w-2/5 pr-1"><label class="label text-right text-base font-semibold">VNI</label></div>
              <div class="w-3/5 pl-2 pr-2"><input type="number" id="panel-link-ext-vni" class="input-field w-full text-base font-extralight h-[28px]" placeholder="e.g., 10001"></div>
            </div>
          </div>
        </div>
        <div class="my-1" data-section="vxlan">
          <div class="p-0.5">
            <div class="flex items-center">
              <div class="w-2/5 pr-1"><label class="label text-right text-base font-semibold">UDP Port</label></div>
              <div class="w-3/5 pl-2 pr-2"><input type="number" id="panel-link-ext-udp-port" class="input-field w-full text-base font-extralight h-[28px]" placeholder="e.g., 4789"></div>
            </div>
          </div>
        </div>

        <!-- Action Buttons -->
        <div class="my-2">
          <div class="p-0.5">
            <div class="flex items-center">
              <div class="w-2/5 pr-1"></div>
              <div class="w-3/5 pl-2 pr-2">
                <div class="flex justify-end space-x-2">
                  <button id="panel-link-extended-editor-save-button" class="btn btn-primary btn-small h-[28px] px-3">Save</button>
                  <button id="panel-link-extended-editor-close-button" class="btn btn-outlined btn-small h-[28px] px-3">Close</button>
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>
</div>

